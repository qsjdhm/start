<!DOCTYPE html><html lang="en" class="no-js"> <head>	<meta charset="utf-8" />	<title>起步 | 后台管理系统</title> 	<meta content="width=device-width, initial-scale=1.0" name="viewport" />	<meta content="" name="description" />	<meta content="" name="author" />	<!-- BEGIN GLOBAL MANDATORY STYLES -->	<link href="../media/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>	<link href="../media/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css"/>	<link href="../media/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>	<link href="../media/css/style-metro.css" rel="stylesheet" type="text/css"/>	<link href="../media/css/style.css" rel="stylesheet" type="text/css"/>	<link href="../media/css/style-responsive.css" rel="stylesheet" type="text/css"/>	<link href="../media/css/default.css" rel="stylesheet" type="text/css" id="style_color"/>	<link href="../media/css/uniform.default.css" rel="stylesheet" type="text/css"/>	<!-- END GLOBAL MANDATORY STYLES -->	<!-- BEGIN PAGE LEVEL STYLES --> 	<link href="../media/css/jquery.gritter.css" rel="stylesheet" type="text/css"/>	<link href="../media/css/daterangepicker.css" rel="stylesheet" type="text/css" />	<link href="../media/css/fullcalendar.css" rel="stylesheet" type="text/css"/>	<link href="../media/css/jqvmap.css" rel="stylesheet" type="text/css" media="screen"/>	<link href="../media/css/jquery.easy-pie-chart.css" rel="stylesheet" type="text/css" media="screen"/>	<link href="../upload/css/uploadify.css" type="text/css" rel="stylesheet"/>	<style type="text/css" media="print, screen">  		.pagination{			float: right;			margin: 0px;		}    	#myModal{    		margin-left:-146px!important;			width:740px!important;    	}    	</style>   		<!-- END PAGE LEVEL STYLES -->	<link rel="shortcut icon" href="../../image/foot.png" /></head><!-- END HEAD --><!-- BEGIN BODY --><body class="page-header-fixed">	<div class="header navbar navbar-inverse">		<div class="navbar-inner">			<div class="container-fluid">				<a class="brand" href="index.html">					<img src="../media/image/logo.png" alt="logo"/>				</a>				<a href="javascript:;" class="btn-navbar collapsed" data-toggle="collapse" data-target=".nav-collapse">					<img src="../media/image/menu-toggler.png" alt="" />				</a>          				<ul class="nav pull-right">					<li class="dropdown user">						<a href="#" class="dropdown-toggle" data-toggle="dropdown">						<img alt="" src="../media/image/avatar1_small.jpg" />						<span class="username">文艺青年流川枫</span>						<i class="icon-angle-down"></i>						</a>						<ul class="dropdown-menu">							<li><a href="extra_lock.html"><i class="icon-lock"></i> 修改密码 </a></li>							<li><a href="login.html"><i class="icon-key"></i> 退出 </a></li>						</ul>					</li>				</ul>			</div>		</div>	</div>	<div class="page-container">		<div class="page-sidebar nav-collapse collapse">			<ul class="page-sidebar-menu">				<li>					<div class="sidebar-toggler hidden-phone"></div>				</li>				<li class="start">					<a href="../index.html">						<i class="icon-home"></i> 						<span class="title">欢迎回来</span>						<span class="selected"></span>					</a>				</li>				<li class="">					<a href="javascript:;">						<i class="icon-file-text"></i> 						<span class="title">文章管理</span>						<span class="arrow "></span>					</a>					<ul class="sub-menu">						<li>							<a href="../article/add_article.html">							添加文章</a>						</li>						<li>							<a href="../article/del_article.html">							删除文章</a>						</li>						<li>							<a href="../article/update_article.html">							修改文章</a>						</li>					</ul>				</li>				<li>					<a href="javascript:;">						<i class="icon-bookmark-empty"></i> 						<span class="title">笔记管理</span>						<span class="arrow "></span>					</a>					<ul class="sub-menu">						<li>							<a href="../note/add_note.html">							添加笔记</a>						</li>						<li>							<a href="../note/del_note.html">							删除笔记</a>						</li>						<li>							<a href="../note/update_note.html">							修改笔记</a>						</li>					</ul>				</li>				<li class="">					<a href="javascript:;">						<i class="icon-sitemap"></i> 						<span class="title">笔记分类管理</span>						<span class="arrow "></span>					</a>					<ul class="sub-menu">						<li>							<a href="../note_classify/add_note_classify.html">							添加笔记分类</a>						</li>						<li>							<a href="../note_classify/del_note_classify.html">							删除笔记分类</a>						</li>						<li>							<a href="../note_classify/update_note_classify.html">							修改笔记分类</a>						</li>					</ul>				</li>				<li class="">					<a href="javascript:;">						<i class="icon-folder-open"></i> 						<span class="title">图书管理</span>						<span class="arrow "></span>					</a>					<ul class="sub-menu">						<li>							<a href="../book/add_book.html">							添加图书</a>						</li>						<li>							<a href="../book/del_book.html">							删除图书</a>						</li>						<li>							<a href="../book/update_book.html">							修改图书</a>						</li>					</ul>				</li>				<li class="active">					<a href="javascript:;">						<i class="icon-th"></i> 						<span class="title">图书分类管理</span>						<span class="arrow "></span>					</a>					<ul class="sub-menu">						<li>							<a href="add_book_classify.html">							添加图书分类</a>						</li>						<li>							<a href="del_book_classify.html">							删除图书分类</a>						</li>						<li class="active">							<a href="update_book_classify.html">							修改图书分类</a>						</li>					</ul>				</li>				<li class="last">					<a href="javascript:;">						<i class="icon-gift"></i> 						<span class="title">推荐管理</span>						<span class="arrow "></span>					</a>					<ul class="sub-menu">						<li>							<a href="../recommend/recom_article.html">							推荐文章</a>						</li>						<li>							<a href="../recommend/recom_note.html">							推荐笔记</a>						</li>					</ul>				</li>			</ul>			<!-- END SIDEBAR MENU -->		</div>		<div class="page-content">			<div class="container-fluid">				<!-- BEGIN PAGE HEADER-->				<div class="row-fluid">					<div class="span12">						<!-- BEGIN PAGE TITLE & BREADCRUMB-->						<h3 class="page-title">							修改您不满意的分类 <small></small>						</h3>						<ul class="breadcrumb">							<li>								<i class="icon-home"></i>								<a href="index.html">起步</a> 								<i class="icon-angle-right"></i>							</li>							<li><a href="update_book_classify.html">修改分类 </a></li>							<li class="pull-right no-text-shadow">								<div id="dashboard-report-range" class="dashboard-date-range tooltips no-tooltip-on-touch-device responsive" data-tablet="" data-desktop="tooltips" data-placement="top" data-original-title="Change dashboard date range">									<i class="icon-calendar"></i>									<span></span>									<i class="icon-angle-down"></i>								</div>							</li>						</ul>						<!-- END PAGE TITLE & BREADCRUMB-->					</div>				</div>				<!-- END PAGE HEADER-->				<div id="dashboard">					<div class="row-fluid">					<div class="span12">						<!-- BEGIN EXAMPLE TABLE PORTLET-->						<div class="portlet box blue">							<div class="portlet-title">								<div class="caption"><i class="icon-edit"></i>分类列表</div>								<div class="tools">									<a href="javascript:;" class="collapse"></a>									<a href="#portlet-config" data-toggle="modal" class="config"></a>									<a href="javascript:;" class="reload"></a>									<a href="javascript:;" class="remove"></a>								</div>							</div>							<div class="portlet-body">																<div class="clearfix">									<div style="margin-bottom:0px!important;" class="btn-group">									</div>								</div>																<table class="table table-striped table-hover table-bordered" id="classify_list">									<thead>										<tr>																					<th>ID</th>																						<th>名称</th>																						<th>修改</th>										</tr>									</thead>									<tbody>																			</tbody>								</table>																<div class="row-fluid">									<div class="span6"></div>									<div class="span6">										<div class="pagination" id="pagination"></div>									</div>								</div>							</div>						</div>						<!-- END EXAMPLE TABLE PORTLET-->					</div>				</div>				<!-- END PAGE CONTENT -->					<!-- END DASHBOARD STATS -->					<div class="clearfix"></div>				</div>			</div>			<!-- END PAGE CONTAINER-->    		</div>		<!-- END PAGE -->	</div>	<!-- END CONTAINER -->			<!-- Modal -->			<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">			  <div class="modal-dialog">			    <div class="modal-content">			      <div class="modal-header">			        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>			        <h4 class="modal-title" id="myModalLabel">修改图书内容</h4>			      </div>			      <div class="modal-body">			        <!-- BEGIN DASHBOARD STATS -->					<div class="row-fluid">						<!-- 富文本编辑区域开始 -->												<form action="#" class="form-horizontal">							<div class="control-group">								<label class="control-label">分类名称</label>								<div class="controls">									<input type="hidden" id="classifyId" value="" />									<input type="text" id="classifyName" placeholder="" class="m-wrap medium" />								</div>							</div>						</form>												<!-- 富文本编辑区域结束 -->											</div>			      </div>			      <div class="modal-footer">			        <button id="saveClassify" type="button" data-dismiss="modal" class="blue btn btn-primary">提交更改</button>			        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>			      </div>			    </div><!-- /.modal-content -->			  </div><!-- /.modal-dialog -->			</div><!-- /.modal -->	<!-- BEGIN FOOTER -->	<div class="footer">		<div class="footer-inner">			2013 &copy; Metronic by keenthemes.		</div>		<div class="footer-tools">			<span class="go-top">			<i class="icon-angle-up"></i>			</span>		</div>	</div>	<!-- END FOOTER -->	<script src="../media/js/jquery-1.10.1.min.js" type="text/javascript"></script>	<script src="../media/js/jquery-migrate-1.2.1.min.js" type="text/javascript"></script>	<script src="../media/js/jquery-ui-1.10.1.custom.min.js" type="text/javascript"></script>      	<script src="../media/js/bootstrap.min.js" type="text/javascript"></script>	<script src="../media/js/jquery.slimscroll.min.js" type="text/javascript"></script>	<script src="../media/js/jquery.blockui.min.js" type="text/javascript"></script>  	<script src="../media/js/jquery.cookie.min.js" type="text/javascript"></script>	<script src="../media/js/jquery.uniform.min.js" type="text/javascript" ></script>	<script src="../media/js/jquery.flot.js" type="text/javascript"></script>	<script src="../media/js/jquery.flot.resize.js" type="text/javascript"></script>	<script src="../media/js/app.js" type="text/javascript"></script>	<script src="../media/js/index.js" type="text/javascript"></script>   	<script type="text/javascript" src="../upload/scripts/swfobject.js"></script>	<script type="text/javascript" src="../upload/scripts/jquery.uploadify.min.js"></script>	<script src="../../plugjs/jquery.pagination-master/js/jquery.pagination.js" type="text/javascript"></script>     	<script>		var bookCover = "";  // 图书封面		jQuery(document).ready(function() {    		    App.init(); // initlayout and core plugins		    Index.init();		   		    // 获取全部数据的个数		    queryClassifyLength(3);		   			$("#saveClassify").bind("click",function(){				var classifyId = $("#classifyId").val();			   	var classifyName = $("#classifyName").val();			   	classifyName = encodeURI(encodeURI(classifyName));				$.ajax({					type : "POST",					url: "../../ClassifyAction?opeType=update&classifyId="+classifyId+"&classifyName="+classifyName+"&fCode=3",					dataType:"json",					success: function(data) {						if(data.code=="1"){							// 获取全部数据的个数						    queryClassifyLength(3);						    alert("修改成功");						}else{							alert("修改失败");						}					    console.info(data);					}				});		   });		});				// 查询图书的全部个数		function queryClassifyLength(typeId){			$.ajax({				type : "POST",				url: "../../ClassifyAction?opeType=queryLength&fCode="+typeId,				dataType:"json",				success: function(data) {					console.info(data);					// 得到全部个数之后 初始化分页组件					createPage(typeId, data.length);				}			});		}		// 创建分页组件		function createPage(typeId, length){			// 初始化分页组件			$("#pagination").pagination(length, {  // 一共多少条数据				current_page : 0,  // 初始化时选中第几页数据  0为第一页				items_per_page : 6,  // 每页显示多少条数据				num_display_entries : 5,  // 显示页数				num_edge_entries : 0,				callback : function(page_id){					// 查询每页数据					queryPageClassify(typeId, page_id+1);				},				load_first_page : true,				prev_text : "上一页",				next_text : "下一页"			});		}				// 查询每一页图书的数据		function queryPageClassify(typeId, pageId){			var pageCount = 6;  // 每页显示6个						// 获取数据			$.ajax({				type : "POST",				url: "../../ClassifyAction?opeType=queryPage&pageId="+pageId+"&pageCount="+pageCount+"&fCode=3",				dataType:"json",				success: function(data) {					console.info(data);					// 添加数据					addPageData(data);				}			});		}				// 添加数据		function addPageData(data){			$("#classify_list tbody").empty();  // 删除原来的数据						// 重新添加数据			for(var i=0; i<data.classifyData.length; i++){				var trHtml = '<tr class="classifyItem" id="'+data.classifyData[i].Sort_ID+'">';				trHtml += '<td>'+data.classifyData[i].Sort_ID+'</td>';				trHtml += '<td class="classifyNameClass">'+data.classifyData[i].Sort_Name+'</td>';				trHtml += '<td><a class="update" href="javascript:void(0)" onclick="updateClassify('+data.classifyData[i].Sort_ID+')">修改</a></td>';				trHtml += '</tr>';								$("#classify_list tbody").append(trHtml);			}						$(".classifyItem .checkboxes").bind("click",function(){				if($(this).parent("span").hasClass("checked")){					$(this).parent("span").removeClass("checked");				}else{					$(this).parent("span").addClass("checked");				}			});		}				// 修改方法		function updateClassify(id){			// 弹出弹出框			$('#myModal').modal();						// 根据id获取内容 填充给文本框			var classifyName = $("#"+id).find(".classifyNameClass").html();						$("#classifyId").val(id);			$("#classifyName").val(classifyName);		}											</script>	<!-- END JAVASCRIPTS -->	<script type="text/javascript">  var _gaq = _gaq || [];  _gaq.push(['_setAccount', 'UA-37564768-1']);  _gaq.push(['_setDomainName', 'keenthemes.com']);  _gaq.push(['_setAllowLinker', true]);  _gaq.push(['_trackPageview']);  (function() {    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;    ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);  })();</script></body><!-- END BODY --></html>